(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{PNSq:function(e,t,i){"use strict";i.r(t),i.d(t,"AgregarPageModule",(function(){return g}));var n=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),a=i("tyNb"),s=i("mrSG");class c{constructor(e){this.desc=e,this.completado=!1}}var l=i("fXoL"),b=i("Z16M");function d(e,t){1&e&&(l.Kb(0,"ion-list-header",1),l.Kb(1,"ion-label"),l.fc(2,"Tareas por hacer"),l.Jb(),l.Jb())}function u(e,t){if(1&e){const e=l.Lb();l.Kb(0,"ion-item-sliding",9),l.Kb(1,"ion-item",1),l.Kb(2,"ion-checkbox",10),l.Sb("ngModelChange",(function(i){return l.bc(e),t.$implicit.completado=i}))("ionChange",(function(){l.bc(e);const i=t.$implicit;return l.Ub().cambioCheck(i)})),l.Jb(),l.Kb(3,"ion-label"),l.fc(4),l.Jb(),l.Jb(),l.Kb(5,"ion-item-options",11),l.Kb(6,"ion-item-option",12),l.Sb("click",(function(){l.bc(e);const i=t.$implicit;return l.Ub().editarTarea(i)})),l.Ib(7,"ion-icon",13),l.Jb(),l.Jb(),l.Kb(8,"ion-item-options",14),l.Kb(9,"ion-item-option",15),l.Sb("click",(function(){l.bc(e);const i=t.index;return l.Ub().borrar(i)})),l.Ib(10,"ion-icon",16),l.Jb(),l.Jb(),l.Jb()}if(2&e){const e=t.$implicit;l.xb(2),l.Zb("ngModel",e.completado),l.xb(2),l.gc(e.desc)}}const m=[{path:"",component:(()=>{class e{constructor(e,t,i){this.alertCtrl=e,this.deseosService=t,this.route=i,this.nombreItem="";const n=this.route.snapshot.paramMap.get("listaId");this.lista=this.deseosService.obtenerLista(n)}ngOnInit(){}agregarItem(){if(0===this.nombreItem.length)return;const e=new c(this.nombreItem);this.lista.items.push(e),this.nombreItem="",this.deseosService.guardarStorage()}cambioCheck(e){0===this.lista.items.filter(e=>!e.completado).length?(this.lista.terminadaEn=new Date,this.lista.terminada=!0):(this.lista.terminadaEn=null,this.lista.terminada=!1),this.deseosService.guardarStorage(),console.log(this.deseosService.listas)}borrar(e){this.lista.items.splice(e,1),this.deseosService.guardarStorage()}editarTarea(e){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.alertCtrl.create({header:"Editar tarea",inputs:[{name:"desc",type:"text",value:e.desc,placeholder:"Tarea a editar"}],buttons:[{text:"Cancelar",role:"cancel",handler:()=>{console.log("Cancelar"),this.lista2.closeSlidingItems()}},{text:"Actualizar",handler:t=>{console.log(t),0===t.desc.length&&this.borrar(e),e.desc=t.desc,this.deseosService.guardarStorage(),this.lista2.closeSlidingItems()}}]})).present()}))}}return e.\u0275fac=function(t){return new(t||e)(l.Hb(r.a),l.Hb(b.a),l.Hb(a.a))},e.\u0275cmp=l.Bb({type:e,selectors:[["app-agregar"]],viewQuery:function(e,t){var i;1&e&&l.ic(r.s,!0),2&e&&l.ac(i=l.Tb())&&(t.lista2=i.first)},decls:17,vars:4,consts:[["no-border",""],["color","dark"],["slot","start"],["color","tertiary","defaultHref","/"],["position","floating"],["placeholder","Escribe tu tarea aqu\xed","type","text",3,"ngModel","ngModelChange","keyup.enter"],["slot","end","color","tertiary",3,"click"],["color","dark",4,"ngIf"],["class","animated fadeInDown",4,"ngFor","ngForOf"],[1,"animated","fadeInDown"],["slot","start","color","tertiary",3,"ngModel","ngModelChange","ionChange"],["side","start"],[3,"click"],["slot","icon-only","name","create"],["side","end"],["color","danger",3,"click"],["slot","icon-only","name","close"]],template:function(e,t){1&e&&(l.Kb(0,"ion-header",0),l.Kb(1,"ion-toolbar",1),l.Kb(2,"ion-buttons",2),l.Ib(3,"ion-back-button",3),l.Jb(),l.Kb(4,"ion-title"),l.fc(5),l.Jb(),l.Jb(),l.Jb(),l.Kb(6,"ion-content",1),l.Kb(7,"ion-list",1),l.Kb(8,"ion-item",1),l.Kb(9,"ion-label",4),l.fc(10,"Nuevo item"),l.Jb(),l.Kb(11,"ion-input",5),l.Sb("ngModelChange",(function(e){return t.nombreItem=e}))("keyup.enter",(function(){return t.agregarItem()})),l.Jb(),l.Kb(12,"ion-note",6),l.Sb("click",(function(){return t.agregarItem()})),l.fc(13,"A\xf1adir"),l.Jb(),l.Jb(),l.Jb(),l.Kb(14,"ion-list"),l.ec(15,d,3,0,"ion-list-header",7),l.ec(16,u,11,2,"ion-item-sliding",8),l.Jb(),l.Jb()),2&e&&(l.xb(5),l.gc(t.lista.titulo),l.xb(6),l.Zb("ngModel",t.nombreItem),l.xb(4),l.Zb("ngIf",t.lista.items.length>0),l.xb(1),l.Zb("ngForOf",t.lista.items))},directives:[r.k,r.B,r.f,r.d,r.e,r.A,r.h,r.s,r.n,r.r,r.m,r.F,o.d,o.e,r.u,n.i,n.h,r.t,r.q,r.g,r.b,r.p,r.o,r.l],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[a.i.forChild(m)],a.i]}),e})(),g=(()=>{class e{}return e.\u0275mod=l.Fb({type:e}),e.\u0275inj=l.Eb({factory:function(t){return new(t||e)},imports:[[n.b,o.a,r.C,h]]}),e})()}}]);